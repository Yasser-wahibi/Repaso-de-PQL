CREATE OR REPLACE TRIGGER DEL_PROV  before DELETE on TPROVINCIA for each ROW
DECLARE

CONT NUMBER(3);

FILACLI TCLIENTE%ROWTYPE;
BEGIN
    -- SELECT COUNT(*) INTO CONT FROM TCLIENTE WHERE :OLD.CODIGO=PROVINCIA;
    -- IF CONT>0 THEN 
    --     RAISE_application_error(-20001,'HAY CLIENTES EN ESA PROVINCIA');

    -- END IF;



    --CON EXCEPCIONES:

    SELECT * INTO FILACLI FROM TCLIENTE WHERE :OLD.CODIGO=PROVINCIA;
        RAISE_application_error(-20001,'HAY CLIENTES EN ESA PROVINCIA');
    EXCEPTION
    WHEN no_data_found THEN
    null;
    when too_many_rows then 
     RAISE_application_error(-20001,'HAY CLIENTES EN ESA PROVINCIA');
END;
/