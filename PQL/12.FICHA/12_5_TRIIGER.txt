CREATE OR REPLACE TRIGGER ANIO_CERTAMEN BEFORE INSERT ON CERTAMEN FOR EACH ROW 
DECLARE

FECHA FESTIVAL.ANIO_INICIO%TYPE;


BEGIN 

SELECT ANIO_INICIO   INTO FECHA FROM FESTIVAL WHERE :NEW.NOM_FES=NOM_FES;

IF FECHA> :NEW.ANIO_CERTAMEN THEN
    RAISE_APPLICATION_ERROR(-20001,'EL ANIO DEL CERTAMEN ES INFERIOR AL ANIO DE INICO DEL EVENTO');
END IF;

IF FECHA IS NULL THEN
    DBMS_OUTPUT.PUT_LINE('PARA LA PROXIMA PON UN ANIO');

END IF;

END;
/
