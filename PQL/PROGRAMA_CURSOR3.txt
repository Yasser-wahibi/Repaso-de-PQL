DECLARE
    CURSOR COMPRA_ALTA IS
        SELECT A.NOMBRE
        FROM TCLIENTE A
        ORDER BY A.COMPRAS DESC;

    CLIENTE COMPRA_ALTA%ROWTYPE;

BEGIN
    OPEN COMPRA_ALTA;
    LOOP
        FETCH COMPRA_ALTA INTO CLIENTE;
        EXIT WHEN COMPRA_ALTA%NOTFOUND OR COMPRA_ALTA%ROWCOUNT > 4;
        
        DBMS_OUTPUT.PUT_LINE('EL CLIENTE ' || CLIENTE.NOMBRE || ' ES UNO DE LOS CLIENTES QUE MAS COMPRAS TIENE');
    END LOOP;

    CLOSE COMPRA_ALTA;
END;
/
