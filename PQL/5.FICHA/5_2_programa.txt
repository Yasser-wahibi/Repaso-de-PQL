DECLARE
    CURSOR EMPLECOB IS
        SELECT GRADO
        FROM EMPLEADO, GRADO
        WHERE SALARIO BETWEEN SALARIO_MIN AND SALARIO_MAX
        AND GRADO = 1 OR GRADO = 2
        ORDER BY SALARIO;
    
    EMPLE EMPLECOB%ROWTYPE;
    
    ACTUAL NUMBER(11) := 0;
    OTRS NUMBER(11) := 0;
    EMPLEADOS_GRADO NUMBER(11) := 0; 
BEGIN
  
    SELECT COUNT(*) INTO ACTUAL FROM EMPLEADO;
    
    OPEN EMPLECOB;
    
   
    LOOP
        FETCH EMPLECOB INTO EMPLE;
        EXIT WHEN EMPLECOB%NOTFOUND OR EMPLECOB%ROWCOUNT > 15;
        
      
        EMPLEADOS_GRADO := EMPLEADOS_GRADO + 1;
        
    
        DBMS_OUTPUT.PUT_LINE('HAY ' || EMPLECOB%ROWCOUNT || ' EMPLEADO(S) DE GRADO ' || EMPLE.GRADO || ' ENTRE LOS 15 QUE MENOS COBRAN');
    END LOOP;
    
   
    OTRS := 15 - EMPLEADOS_GRADO;
    DBMS_OUTPUT.PUT_LINE('HAY ' || OTRS || ' EMPLEADO(S) DE OTRO GRUPO ENTRE LOS 15 QUE MENOS COBRAN');
    
    CLOSE EMPLECOB;

END;
/
