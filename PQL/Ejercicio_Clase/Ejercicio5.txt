DECLARE
	CURSOR CLIENTE IS
	SELECT NOMBRE
	FROM TCLIENTE
	WHERE EXISTS(SELECT * FROM TPROVINCIA
			WHERE CODIGO= PROVINCIA
			AND UPPER(TPROVINCIA.NOMBRE)= 'ZARAGOZA'
			OR UPPER(TPROVINCIA.NOMBRE)= 'HUESCA')
	AND CONTARCAR(TCLIENTE.NOMBRE,'Z')=2;

CLI CLIENTE%ROWTYPE;

BEGIN
	DBMS_OUTPUT.PUT_LINE('CLIENTES: ');
	OPEN CLIENTE;
		LOOP
			FETCH CLIENTE INTO CLI;
			EXIT WHEN CLIENTE%NOTFOUND;
			DBMS_OUTPUT.PUT_LINE(CLI.NOMBRE);

		END LOOP;
	CLOSE CLIENTE;
END;
/
	
